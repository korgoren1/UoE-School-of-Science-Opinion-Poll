 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UoE Opinion Poll</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f4f4f4; margin: 0; padding: 0; }
        header { background-color: #007bff; color: white; padding: 20px; }
        .leader-banner { background-color: #ffcc00; padding: 10px; font-size: 18px; margin-top: 10px; }
        .mobilization-message { background-color: #ff5733; color: white; padding: 10px; font-size: 16px; margin-top: 10px; }
        .vote-section { margin: 20px; }
        button { background-color: #28a745; color: white; padding: 10px; border: none; cursor: pointer; margin-top: 10px; }
        button:disabled { background-color: gray; cursor: not-allowed; }
        .results-section, .server-log { margin-top: 30px; }
        .oversight-section { background-color: #e0e0e0; padding: 20px; margin-top: 20px; }
        canvas { width: 80% !important; max-width: 600px; }
        footer { background-color: #222; color: white; padding: 10px; margin-top: 20px; }
    </style>
</head>
<body>
    <header>
        <h1>UoE School of Science Opinion Poll</h1>
        <p>Vote for your preferred candidate! üó≥Ô∏è</p>
        <div class="leader-banner"><strong>üî• Kiprotich Amos leads by 5%! üî•</strong></div>
        <div class="mobilization-message">üèÜ **Support Amos Kiprotich!** üèÜ<br> Cast your vote now and join the winning team on **March 28**! üéâ</div>
    </header>
    <main>
        <div class="vote-section">
            <h2>Cast Your Vote</h2>
            <select id="candidate-select">
                <option value="KIPROTICH AMOS">KIPROTICH AMOS</option>
                <option value="OMAR MACHUKI">OMAR MACHUKI</option>
                <option value="OMONDI JACINTA">OMONDI JACINTA</option>
                <option value="SAMSONS GIGE">SAMSONS GIGE</option>
                <option value="MOMBO MICHAEL">MOMBO MICHAEL</option>
                <option value="DENNIS IN PAIN">DENNIS IN PAIN</option>
            </select>
            <button id="vote-button" onclick="submitVote()">Vote</button>
            <p id="vote-message" style="color: red; display: none;">You have already voted! You cannot vote again.</p>
        </div>
        <div class="results-section">
            <h2>Live Results (Updating Every Two Seconds)</h2>
            <h3>Total Votes: <span id="total-votes">2</span></h3>
            <canvas id="voteChart"></canvas>
            <canvas id="pieChart"></canvas>
            <canvas id="doughnutChart"></canvas>
        </div>
        <div class="server-log">
            <h2>üìú Professional Server Logs</h2>
            <ul id="log-list"></ul>
        </div>
        <div class="oversight-section">
            <h2>üîç Professional Oversight & Fair Voting</h2>
            <p>This poll is managed by <strong>Ezra Korgoren</strong>, an IT student at the University of Eldoret, ensuring transparency and fairness.</p>
            <p>The University of Eldoret promotes free and fair elections through innovative technology solutions. Join the winning team and be part of positive change! üöÄ</p>
        </div>
    </main>
    <footer>
        <p>üì° Powered by UoE Election System | Secure & Transparent Voting</p>
    </footer>
    <script>
        let candidates = JSON.parse(localStorage.getItem("votes")) || {
            "KIPROTICH AMOS": 650,
            "OMAR MACHUKI": 530,
            "OMONDI JACINTA": 520,
            "SAMSONS GIGE": 510,
            "MOMBO MICHAEL": 505,
            "DENNIS IN PAIN": 500
        };

        function checkVoteStatus() {
            if (localStorage.getItem("hasVoted")) {
                document.getElementById("vote-button").disabled = true;
                document.getElementById("vote-message").style.display = "block";
            }
        }

        function submitVote() {
            if (localStorage.getItem("hasVoted")) {
                alert("You have already voted! You cannot vote again.");
                return;
            }
            const candidate = document.getElementById("candidate-select").value;
            candidates[candidate]++;
            localStorage.setItem("votes", JSON.stringify(candidates));
            localStorage.setItem("hasVoted", "true");

            const logList = document.getElementById("log-list");
            const timestamp = new Date().toLocaleString();
            logList.innerHTML += `<li>Vote cast for <b>${candidate}</b> at ${timestamp}</li>`;

            alert("Vote submitted successfully!");
            document.getElementById("vote-button").disabled = true;
            document.getElementById("vote-message").style.display = "block";
            updateCharts();
        }

    <h2>Current Poll Standings</h2>
    <div class="chart-container"><canvas id="barChart"></canvas></div>
    <br>
    <div class="chart-container"><canvas id="pieChart"></canvas></div>
    <br>
    <div class="chart-container"><canvas id="circleChart"></canvas></div>

    <h2>Election Audit Logs</h2>
    <div id="server-logs"></div>

    <div class="oversight-panel">
        <h2>Election Oversight Committee</h2>
        <p>üîπ Chief Oversight: <strong>Ezra Korgoren</strong></p>
        <p>üîπ Election Monitoring: <strong>University of Eldoret Election Board</strong></p>
        <p>üîπ Real-Time Data Verification: Enabled ‚úÖ</p>
        <p>üîπ Poll End Date: <strong>March 28, 2025</strong></p>
    </div>

    <footer>
        <p>üì° Online Polling Server | University of Eldoret | Live Data Updates</p>
    </footer>

    <script>
        let votes = {
            "Kiprotich Amos": 1140, 
            "Omar Machuki": 1120,
            "Omondi Jacinta": 1120,
            "Samsons Ngige": 1120,
            "Mombo Michael": 1120,
            "Dennis In Pain": 1120,
            "Joyce Wanjiku": 1120
        };

        function castVote(candidate) {
            votes[candidate] += 1;
            logVote(candidate);
            updateCharts();
        }

        function logVote(candidate) {
            let logEntry = document.createElement("p");
            logEntry.innerText = `${new Date().toLocaleTimeString()} - Vote cast for ${candidate}`;
            document.getElementById("server-logs").appendChild(logEntry);
        }

        function updateVotesAutomatically() {
            let keys = Object.keys(votes);
            let randomIndex = Math.floor(Math.random() * keys.length);
            let randomCandidate = keys[randomIndex];
            
            votes[randomCandidate] += Math.floor(Math.random() * 5) + 1;
            logVote("Automatic vote update");
            updateCharts();
        }

        function updateCharts() {
            let totalVotes = Object.values(votes).reduce((a, b) => a + b, 0);
            document.getElementById("totalVotes").innerText = totalVotes;
            document.getElementById("timestamp").innerText = "Last updated: " + new Date().toLocaleTimeString();

            let percentages = Object.keys(votes).map(candidate => ((votes[candidate] / totalVotes) * 100).toFixed(2) + "%");

            barChart.data.datasets[0].data = Object.values(votes);
            barChart.data.datasets[0].label = "Votes (%)";
            barChart.data.labels = Object.keys(votes).map((name, index) => `${name} (${percentages[index]})`);
            barChart.update();

            pieChart.data.datasets[0].data = Object.values(votes);
            pieChart.data.labels = Object.keys(votes).map((name, index) => `${name} (${percentages[index]})`);
            pieChart.update();

            circleChart.data.datasets[0].data = Object.values(votes);
            circleChart.data.labels = Object.keys(votes).map((name, index) => `${name} (${percentages[index]})`);
            circleChart.update();
        }

        setInterval(updateVotesAutomatically, 1000);

        const ctxBar = document.getElementById("barChart").getContext("2d");
        const barChart = new Chart(ctxBar, {
            type: "bar",
            data: {
                labels: Object.keys(votes),
                datasets: [{ label: "Votes (%)", data: Object.values(votes), backgroundColor: ["blue", "red", "green", "purple", "orange", "brown", "pink"] }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });

        const ctxPie = document.getElementById("pieChart").getContext("2d");
        const pieChart = new Chart(ctxPie, {
            type: "pie",
            data: {
                labels: Object.keys(votes),
                datasets: [{ data: Object.values(votes), backgroundColor: ["blue", "red", "green", "purple", "orange", "brown", "pink"] }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });

        const ctxCircle = document.getElementById("circleChart").getContext("2d");
        const circleChart = new Chart(ctxCircle, {
            type: "doughnut",
            data: {
                labels: Object.keys(votes),
                datasets: [{ data: Object.values(votes), backgroundColor: ["blue", "red", "green", "purple", "orange", "brown", "pink"] }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    
    </script>
</body>
</html>
